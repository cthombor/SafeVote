<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Ballots are added until a specified number of simulated elections (arep)
have been held.   If a favoured candidate is specified, then the ballot-box
is stuffed with ballots awarding first-preference to this candidate.
Alternatively, a tacticalBallot may be specified.  If both favoured and
tacticalBallot are NULL, then a random candidate is selected as the
favoured one."><title>Test the sensitivity of a result to tactical voting. — testAdditions • SafeVote</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Test the sensitivity of a result to tactical voting. — testAdditions"><meta property="og:description" content="Ballots are added until a specified number of simulated elections (arep)
have been held.   If a favoured candidate is specified, then the ballot-box
is stuffed with ballots awarding first-preference to this candidate.
Alternatively, a tacticalBallot may be specified.  If both favoured and
tacticalBallot are NULL, then a random candidate is selected as the
favoured one."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">SafeVote</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Test the sensitivity of a result to tactical voting.</h1>
      
      <div class="d-none name"><code>testAdditions.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Ballots are added until a specified number of simulated elections (<code>arep</code>)
have been held.   If a <code>favoured</code> candidate is specified, then the ballot-box
is stuffed with ballots awarding first-preference to this candidate.
Alternatively, a <code>tacticalBallot</code> may be specified.  If both <code>favoured</code> and
<code>tacticalBallot</code> are <code>NULL</code>, then a random candidate is selected as the
favoured one.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">testAdditions</span><span class="op">(</span></span>
<span>  <span class="va">votes</span>,</span>
<span>  ainc <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  arep <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  favoured <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tacticalBallot <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rankMethod <span class="op">=</span> <span class="st">"safeRank"</span>,</span>
<span>  countMethod <span class="op">=</span> <span class="st">"stv"</span>,</span>
<span>  countArgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  exptName <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  equiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  everbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>votes</dt>
<dd><p>A set of ballots, as in
<a href="https://CRAN.R-project.org/package=vote" class="external-link">vote_2.3.2</a></p></dd>


<dt>ainc</dt>
<dd><p>Number of ballots to be added in each step</p></dd>


<dt>arep</dt>
<dd><p>Maximum number of ballot-stuffed elections to run</p></dd>


<dt>favoured</dt>
<dd><p>Name of the candidate being "plumped".  If <code>NULL</code>, a random
candidate is selected from among the candidates not initially top-ranked.
All other candidates are fully-ranked at random, with an identical ballot
paper being stuffed multiple times.  An integer value for <code>favoured</code> is
interpreted as an index into the candidate names.</p></dd>


<dt>tacticalBallot</dt>
<dd><p>A ballot paper i.e. a vector of length <code>ncol(ballots)</code>.
If this argument is non-<code>NULL</code>, it takes precedence over <code>favoured</code> when the
ballot box is being stuffed.</p></dd>


<dt>rankMethod</dt>
<dd><p>"safeRank" (default), "elected", or "rank".  "rank" is
a total ranking of the candidates, with ties broken at random.  "elected"
assigns rank=1 to elected candidates, rank=2 for eliminated candidates.</p></dd>


<dt>countMethod</dt>
<dd><p>countMethod "stv" (default) or "condorcet"</p></dd>


<dt>countArgs</dt>
<dd><p>List of args to be passed to countMethod (in addition to
votes)</p></dd>


<dt>exptName</dt>
<dd><p>stem-name of experimental units <em>e.g.</em> "E".  If <code>NULL</code>, then
a 3-character string of capital letters is chosen at random.</p></dd>


<dt>equiet</dt>
<dd><p><code>TRUE</code> to suppress all experimental output</p></dd>


<dt>everbose</dt>
<dd><p><code>TRUE</code> to produce diagnostic output from the experiment</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A matrix of experimental results, of dimension \(n\) by \(2m+1\),
where \(n\) is the number of elections and \(m\) is the number of
candidates.  The first column is named "nBallots".  Other columns indicate
the ranking of the eponymous candidate, and their margin over the
next-lower-ranked candidate.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">food_election</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="fu">testAdditions</span><span class="op">(</span><span class="va">food_election</span>, arep <span class="op">=</span> <span class="fl">2</span>, favoured <span class="op">=</span> <span class="st">"Strawberries"</span>, </span></span>
<span class="r-in"><span>  countArgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>safety <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Adding up to 2 stv ballots = ( 3 2 4 1 5 )</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Testing progress:  1, 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Results of testAdditions at 2023-01-14 02:18:57</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dataset = food_election, countMethod = stv, rankMethod = safeRank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |          | safety|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |:---------|------:|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |countArgs |      0|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |             | ainc| arep|                                                         tacticalBallot|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |:------------|----:|----:|----------------------------------------------------------------------:|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |otherFactors |    1|    2| c(Oranges = 3, Pears = 2, Chocolate = 4, Strawberries = 1, Sweets = 5)|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Experiment ID, number of ballots in simulated election, ranks, winning margins:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |exptID | nBallots| Oranges| Pears| Chocolate| Strawberries| Sweets| m.Oranges| m.Pears| m.Chocolate| m.Strawberries| m.Sweets|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |:------|--------:|-------:|-----:|---------:|------------:|------:|---------:|-------:|-----------:|--------------:|--------:|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |TZV0   |       20|       2|     5|         1|            3|      4| 1.4451111|       0|           8|      1.7774444| 2.777444|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |TZV1   |       21|       2|     5|         1|            3|      4| 0.6673333|       0|           8|      2.6663333| 2.666333|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |TZV2   |       22|       3|     5|         1|            2|      4| 3.4447778|       0|           8|      0.1104444| 2.555222|</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Clark Thomborson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

