<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Count votes using the Condorcet voting method. — condorcet • SafeVote</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Count votes using the Condorcet voting method. — condorcet"><meta name="description" content="The Condorcet method elects the candidate who wins a majority of the ranked
vote in every head to head election against each of the other candidates.
A Condorcet winner is a candidate who beats all other candidates
in pairwise comparisons. Analogously, a Condorcet loser is a candidate
who loses against all other candidates. Neither Condorcet winner nor loser
might exist."><meta property="og:description" content="The Condorcet method elects the candidate who wins a majority of the ranked
vote in every head to head election against each of the other candidates.
A Condorcet winner is a candidate who beats all other candidates
in pairwise comparisons. Analogously, a Condorcet loser is a candidate
who loses against all other candidates. Neither Condorcet winner nor loser
might exist."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SafeVote</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Count votes using the Condorcet voting method.</h1>

      <div class="d-none name"><code>condorcet.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The Condorcet method elects the candidate who wins a majority of the ranked
vote in every head to head election against each of the other candidates.
A Condorcet winner is a candidate who beats all other candidates
in pairwise comparisons. Analogously, a Condorcet loser is a candidate
who loses against all other candidates. Neither Condorcet winner nor loser
might exist.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">condorcet</span><span class="op">(</span></span>
<span>  <span class="va">votes</span>,</span>
<span>  runoff <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  nseats <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  safety <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  fsep <span class="op">=</span> <span class="st">"\t"</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-votes">votes<a class="anchor" aria-label="anchor" href="#arg-votes"></a></dt>
<dd><p>A <a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a> or <a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a> containing the votes. Rows correspond
to the votes, columns correspond to the candidates. If 'votes' is a
character string, it is interpreted as a file name from which the votes are
to be read. See
<a href="https://cthombor.github.io/SafeVote/reference/condorcet#details" class="external-link">below</a>.</p></dd>


<dt id="arg-runoff">runoff<a class="anchor" aria-label="anchor" href="#arg-runoff"></a></dt>
<dd><p>Logical. If <a href="https://rdrr.io/r/base/logical.html" class="external-link">TRUE</a> and no Condorcet winner exists, the election
goes into a run-off, see
<a href="https://cthombor.github.io/SafeVote/reference/condorcet#details" class="external-link">below</a>.</p></dd>


<dt id="arg-nseats">nseats<a class="anchor" aria-label="anchor" href="#arg-nseats"></a></dt>
<dd><p>the number of seats to be filled in this election</p></dd>


<dt id="arg-safety">safety<a class="anchor" aria-label="anchor" href="#arg-safety"></a></dt>
<dd><p>Parameter for a clustering heuristic on a total ranking of
the candidates.  Conjecture: the default of '1.0' ensures a separation
of one s.d. between clusters, when 'votes' are i.u.d. permutations on the
candidates.</p></dd>


<dt id="arg-fsep">fsep<a class="anchor" aria-label="anchor" href="#arg-fsep"></a></dt>
<dd><p>If 'votes' is a file name, this argument gives the column
separator in the file.</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>If <a href="https://rdrr.io/r/base/logical.html" class="external-link">TRUE</a> no output is printed.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Undocumented intent (preserved from legacy code)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Object of class 'SafeVote.condorcet'</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If the runoff argument is set to 'TRUE' and no Condorcet winner exists,
two or more candidates with the most pairwise wins are selected and
the method is applied to such subset. If more than two candidates are in
such run-off, the selection is performed repeatedly, until either a winner
is selected or no more selection is possible.</p>
<p>The input data votes is structured the same way as for the <a href="stv.html">stv</a> method:
Row 'i' contains the preferences of voter 'i' numbered
'1; 2; : : : ; r; 0; 0; 0; 0', in some order, while equal preferences
are allowed. The columns correspond to the candidates. The <a href="https://rdrr.io/r/base/dimnames.html" class="external-link">dimnames</a> of
the columns are the names of the candidates; if these are not supplied
then the candidates are lettered 'A, B, C, ...'. If the dataset
contains missing values (<a href="https://rdrr.io/r/base/NA.html" class="external-link">NA</a>), they are replaced by zeros.</p>
<p>If a ballot has equally-ranked candidates, its rankings are tested for
validity: for each preference \(i\) which does not have any duplicate,
there are exactly \(i - 1\) preferences \(j\) with \(0 &lt; j &lt; i\). If
any ballot 'x' fails this validity test, it is automatically corrected (aka
"converted") into a valid ballot using 'x &lt;- rank(x, ties.method = "min")',
and a warning is issued.</p>
<p>This method also computes a Borda ranking of all candidates, using
tournament-style scoring.  This ranking is "fuzzed" into a 'safeRank', with
approximately 1 s.d. of fuzz when 'safety=1.0' and voter preferences are
i.u.d.  A warning is thrown if a 'safeRank' violates the (extended) Condorcet
principle: that Candidate \(i\) is more highly ranked than Candidate
\(j\) only if a majority of voters agree with this.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">food_election</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">condorcet</span><span class="op">(</span><span class="va">food_election</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Results of Condorcet voting</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ===========================                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of valid votes:   20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of invalid votes:  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of candidates:     5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of seats:          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |             | Oranges| Pears| Chocolate| Strawberries| Sweets| Total| Score | BordaRank | margin| SafeRank| Winner| Loser|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |:------------|-------:|-----:|---------:|------------:|------:|-----:|:-----:|:---------:|------:|--------:|------:|-----:|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Oranges      |       0|     1|         0|            0|      1|     2|  22   |     3     |      6|        2|       |      |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Pears        |       0|     0|         0|            0|      0|     0|   8   |     5     |      0|        2|       |     x|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Chocolate    |       1|     1|         0|            1|      1|     4|  48   |     1     |     20|        1|      x|      |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Strawberries |       1|     1|         0|            0|      1|     3|  28   |     2     |      6|        2|       |      |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Sweets       |       0|     1|         0|            0|      0|     1|  16   |     4     |      8|        2|       |      |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> safeRank fuzz on Borda scores: 8.944272</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Gaps in Borda scores: min 6 mean 9.6 max 20 ; all 6 6 8 8 20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Condorcet winner: Chocolate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Condorcet loser: Pears</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Clark Thomborson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

